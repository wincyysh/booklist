/*! For license information please see 74.index_bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[74],{43:(n,t,e)=>{e.d(t,{C:()=>r});var r={apiKey:"AIzaSyBnIH3sUKL0U5zWCsyd7X56Hkds6tLO76U",authDomain:"fir-5105b.firebaseapp.com",databaseURL:"https://fir-5105b-default-rtdb.firebaseio.com/",projectId:"fir-5105b",storageBucket:"fir-5105b.firebasestorage.app",messagingSenderId:"764065034501",appId:"1:764065034501:web:74174067eab2c5242fc76c",measurementId:"G-WP1SRHE9Z8"}},74:(n,t,e)=>{e.r(t),e.d(t,{default:()=>w});var r=e(223),o=e(290),i=e(540),a=e(43),u=e(848);function c(){var n,t,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof u?r:u,l=Object.create(c.prototype);return s(l,"_invoke",function(e,r,o){var i,u,c,s=0,l=o||[],f=!1,d={p:0,n:0,v:n,a:p,f:p.bind(n,4),d:function(t,e){return i=t,u=0,c=n,d.n=e,a}};function p(e,r){for(u=e,c=r,t=0;!f&&s&&!o&&t<l.length;t++){var o,i=l[t],p=d.p,b=i[2];e>3?(o=b===r)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=n):i[0]<=p&&((o=e<2&&p<i[1])?(u=0,d.v=r,d.n=i[1]):p<b&&(o=e<3||i[0]>r||r>b)&&(i[4]=e,i[5]=r,d.n=b,u=0))}if(o||e>1)return a;throw f=!0,r}return function(o,l,b){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,b),u=l,c=b;(t=u<2?n:c)||!f;){i||(u?u<3?(u>1&&(d.n=-1),p(u,c)):d.n=c:d.v=c);try{if(s=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=n}else if((t=(f=d.n<0)?c:e.call(r,d))!==a)break}catch(t){i=n,u=1,c=t}finally{s=1}}return{value:t,done:f}}}(e,o,i),!0),l}var a={};function u(){}function l(){}function f(){}t=Object.getPrototypeOf;var d=[][r]?t(t([][r]())):(s(t={},r,function(){return this}),t),p=f.prototype=u.prototype=Object.create(d);function b(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,f):(n.__proto__=f,s(n,o,"GeneratorFunction")),n.prototype=Object.create(p),n}return l.prototype=f,s(p,"constructor",f),s(f,"constructor",l),l.displayName="GeneratorFunction",s(f,o,"GeneratorFunction"),s(p),s(p,o,"Generator"),s(p,r,function(){return this}),s(p,"toString",function(){return"[object Generator]"}),(c=function(){return{w:i,m:b}})()}function s(n,t,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(n){o=0}s=function(n,t,e,r){function i(t,e){s(n,t,function(n){return this._invoke(t,e,n)})}t?o?o(n,t,{value:e,enumerable:!r,configurable:!r,writable:!r}):n[t]=e:(i("next",0),i("throw",1),i("return",2))},s(n,t,e,r)}function l(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=Array(t);e<t;e++)r[e]=n[e];return r}function f(n,t,e,r,o,i,a){try{var u=n[i](a),c=u.value}catch(n){return void e(n)}u.done?t(c):Promise.resolve(c).then(r,o)}function d(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var i=n.apply(t,e);function a(n){f(i,r,o,a,u,"next",n)}function u(n){f(i,r,o,a,u,"throw",n)}a(void 0)})}}var p=(0,i.lazy)(function(){return e.e(635).then(e.bind(e,635))}),b=(0,i.lazy)(function(){return e.e(333).then(e.bind(e,333))});function v(n,t){return h.apply(this,arguments)}function h(){return(h=d(c().m(function n(t,e){var r,o,i;return c().w(function(n){for(;;)switch(n.n){case 0:return t.preventDefault(),n.n=1,p("isbn:",e);case 1:if(!((o=n.v)&&(null==o||null===(r=o.items)||void 0===r?void 0:r.length)>0)){n.n=2;break}return console.log("isbn is valid, sucessfully found book"),n.a(2,null==o||null===(i=o.items[0])||void 0===i||null===(i=i.volumeInfo)||void 0===i?void 0:i.title);case 2:return console.log(" This an error",o),n.a(2,null);case 3:return n.a(2)}},n)}))).apply(this,arguments)}function y(){var n=(0,r.Wp)(a.C),t=(0,o.C3)(n);return t?(console.log("Accessed to database"),t):(console.log("Cannot access database!"),null)}function m(n,t){return g.apply(this,arguments)}function g(){return(g=d(c().m(function n(t,e){var r,i,a,u,s,l,f;return c().w(function(n){for(;;)switch(n.p=n.n){case 0:return console.log("write new data in book list"),r=y(),n.p=1,i=t.replace(/[-\s]/g,""),n.n=2,(0,o.Jt)((0,o.KR)(r,"booklist/".concat(i)));case 2:if(a=n.v,console.log("create snapshot success"),!a.exists()){n.n=4;break}return console.log("snapshot.exists()"),u=a.val(),s=u.vote||0,l=s+1,n.n=3,(0,o.yo)((0,o.KR)(r,"booklist/".concat(i)),{vote:l});case 3:console.log("You add a vote to existing book!"),n.n=5;break;case 4:return console.log("else statement"),console.log("It is a new book not in the list!"),n.n=5,(0,o.hZ)((0,o.KR)(r,"booklist/".concat(i)),{bookname:e,vote:1}).then(function(){return console.log("Thank you for your recommendation! ",e)}).catch(function(n){return console.log("Failed to add the book, the isbn exist ",n)});case 5:n.n=7;break;case 6:n.p=6,f=n.v,console.error("Invalid ISBN",f);case 7:case 8:return n.a(2)}},n,null,[[1,6]])}))).apply(this,arguments)}const w=function(){var n,t,e=(n=(0,i.useState)(""),t=2,function(n){if(Array.isArray(n))return n}(n)||function(n,t){var e=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(e=e.call(n)).next,0===t){if(Object(e)!==e)return;c=!1}else for(;!(c=(r=i.call(e)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(n){s=!0,o=n}finally{try{if(!c&&null!=e.return&&(a=e.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(n,t)||function(n,t){if(n){if("string"==typeof n)return l(n,t);var e={}.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?l(n,t):void 0}}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=e[0],o=e[1];return(0,u.jsxs)("div",{id:"add-your-own-recommendation",children:[(0,u.jsx)("div",{id:"add-your-own--recommendation-title",children:(0,u.jsx)("h1",{children:"Add Your Own Recommendation"})}),(0,u.jsxs)("div",{id:"isbn-form",children:[(0,u.jsxs)("form",{onSubmit:function(){var n=d(c().m(function n(t){var e;return c().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,v(t,r);case 1:if(!(e=n.v)){n.n=2;break}return console.log(e),n.n=2,m(r,e);case 2:return n.a(2)}},n)}));return function(t){return n.apply(this,arguments)}}(),children:[(0,u.jsx)("input",{type:"text",id:"isbn-input",placeholder:" please enter book isbn ",value:r,onChange:function(n){return o(n.target.value)}}),(0,u.jsx)("button",{type:"submit",id:"isbn-submit",children:"Submit"})]}),(0,u.jsx)(b,{})]})]})}}}]);