/*! For license information please see 74.index_bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkbooklist=self.webpackChunkbooklist||[]).push([[74],{43:(t,n,r)=>{r.d(n,{C:()=>e});var e={apiKey:"AIzaSyBnIH3sUKL0U5zWCsyd7X56Hkds6tLO76U",authDomain:"fir-5105b.firebaseapp.com",databaseURL:"https://fir-5105b-default-rtdb.firebaseio.com/",projectId:"fir-5105b",storageBucket:"fir-5105b.firebasestorage.app",messagingSenderId:"764065034501",appId:"1:764065034501:web:74174067eab2c5242fc76c",measurementId:"G-WP1SRHE9Z8"}},74:(t,n,r)=>{r.r(n),r.d(n,{default:()=>j});var e=r(223),o=r(290),i=r(635),a=r(540),u=r(43),c=r(848);function s(){var t,n,r="function"==typeof Symbol?Symbol:{},e=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,e,o,i){var c=e&&e.prototype instanceof u?e:u,s=Object.create(c.prototype);return l(s,"_invoke",function(r,e,o){var i,u,c,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:v,f:v.bind(t,4),d:function(n,r){return i=n,u=0,c=t,p.n=r,a}};function v(r,e){for(u=r,c=e,n=0;!f&&s&&!o&&n<l.length;n++){var o,i=l[n],v=p.p,h=i[2];r>3?(o=h===e)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=t):i[0]<=v&&((o=r<2&&v<i[1])?(u=0,p.v=e,p.n=i[1]):v<h&&(o=r<3||i[0]>e||e>h)&&(i[4]=r,i[5]=e,p.n=h,u=0))}if(o||r>1)return a;throw f=!0,e}return function(o,l,h){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&v(l,h),u=l,c=h;(n=u<2?t:c)||!f;){i||(u?u<3?(u>1&&(p.n=-1),v(u,c)):p.n=c:p.v=c);try{if(s=2,i){if(u||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,u<2&&(u=0)}else 1===u&&(n=i.return)&&n.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((n=(f=p.n<0)?c:r.call(e,p))!==a)break}catch(n){i=t,u=1,c=n}finally{s=1}}return{value:n,done:f}}}(r,o,i),!0),s}var a={};function u(){}function c(){}function f(){}n=Object.getPrototypeOf;var p=[][e]?n(n([][e]())):(l(n={},e,function(){return this}),n),v=f.prototype=u.prototype=Object.create(p);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,l(t,o,"GeneratorFunction")),t.prototype=Object.create(v),t}return c.prototype=f,l(v,"constructor",f),l(f,"constructor",c),c.displayName="GeneratorFunction",l(f,o,"GeneratorFunction"),l(v),l(v,o,"Generator"),l(v,e,function(){return this}),l(v,"toString",function(){return"[object Generator]"}),(s=function(){return{w:i,m:h}})()}function l(t,n,r,e){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}l=function(t,n,r,e){function i(n,r){l(t,n,function(t){return this._invoke(n,r,t)})}n?o?o(t,n,{value:r,enumerable:!e,configurable:!e,writable:!e}):t[n]=r:(i("next",0),i("throw",1),i("return",2))},l(t,n,r,e)}function f(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,e=Array(n);r<n;r++)e[r]=t[r];return e}function p(t,n,r,e,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?n(c):Promise.resolve(c).then(e,o)}function v(t){return function(){var n=this,r=arguments;return new Promise(function(e,o){var i=t.apply(n,r);function a(t){p(i,e,o,a,u,"next",t)}function u(t){p(i,e,o,a,u,"throw",t)}a(void 0)})}}var h=(0,a.lazy)(function(){return r.e(333).then(r.bind(r,333))}),b=(0,e.Wp)(u.C),d=(0,o.C3)(b);function y(t,n){return m.apply(this,arguments)}function m(){return(m=v(s().m(function t(n,r){var e,o,a;return s().w(function(t){for(;;)switch(t.n){case 0:return n.preventDefault(),t.n=1,(0,i.Xe)("isbn:",r);case 1:if(!((o=t.v)&&(null==o||null===(e=o.items)||void 0===e?void 0:e.length)>0)){t.n=2;break}return t.a(2,null==o||null===(a=o.items[0])||void 0===a||null===(a=a.volumeInfo)||void 0===a?void 0:a.title);case 2:return console.log(" This an error",o),t.a(2,null);case 3:return t.a(2)}},t)}))).apply(this,arguments)}function g(){return d?(console.log("Accessed to database"),d):(console.log("Cannot access database!"),null)}function w(t,n){return k.apply(this,arguments)}function k(){return k=v(s().m(function t(n,r){var e,i,a,u,c,l,f;return s().w(function(t){for(;;)switch(t.p=t.n){case 0:return e=g(),t.p=1,i=n.replace(/[-\s]/g,""),t.n=2,(0,o.Jt)((0,o.KR)(e,"booklist/".concat(i)));case 2:if(!(a=t.v).exists()){t.n=4;break}return u=a.val(),c=u.vote||0,l=c+1,t.n=3,(0,o.yo)((0,o.KR)(e,"booklist/".concat(i)),{vote:l});case 3:t.n=5;break;case 4:return t.n=5,(0,o.hZ)((0,o.KR)(e,"booklist/".concat(i)),{bookname:r,vote:1}).then(function(){return console.log("Thank you for your recommendation! ",r)}).catch(function(t){return console.log("Failed to add the book, the isbn exist ",t)});case 5:t.n=7;break;case 6:t.p=6,f=t.v,console.error("Invalid ISBN",f);case 7:case 8:return t.a(2)}},t,null,[[1,6]])})),k.apply(this,arguments)}const j=function(){var t,n,r=(t=(0,a.useState)(""),n=2,function(t){if(Array.isArray(t))return t}(t)||function(t,n){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var e,o,i,a,u=[],c=!0,s=!1;try{if(i=(r=r.call(t)).next,0===n){if(Object(r)!==r)return;c=!1}else for(;!(c=(e=i.call(r)).done)&&(u.push(e.value),u.length!==n);c=!0);}catch(t){s=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(t,n)||function(t,n){if(t){if("string"==typeof t)return f(t,n);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(t,n):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),e=r[0],o=r[1];return(0,c.jsxs)("div",{id:"add-your-own",children:[(0,c.jsxs)("div",{id:"recommendation-title",children:[(0,c.jsx)("h2",{children:"Add Your Own Recommendation"}),(0,c.jsx)("p",{children:"Show us your favorite book"})]}),(0,c.jsxs)("div",{children:[(0,c.jsxs)("form",{id:"isbn-form",onSubmit:function(){var t=v(s().m(function t(n){var r;return s().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,y(n,e);case 1:if(!(r=t.v)){t.n=2;break}return t.n=2,w(e,r);case 2:return t.a(2)}},t)}));return function(n){return t.apply(this,arguments)}}(),children:[(0,c.jsx)("input",{type:"text",id:"isbn-input",placeholder:"Book ISBN ",value:e,onChange:function(t){return o(t.target.value)}}),(0,c.jsx)("button",{type:"submit",id:"isbn-submit",children:"Submit"})]}),(0,c.jsx)(h,{})]})]})}},635:(t,n,r)=>{function e(){var t,n,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function u(r,e,i,a){var u=e&&e.prototype instanceof s?e:s,l=Object.create(u.prototype);return o(l,"_invoke",function(r,e,o){var i,a,u,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:v,f:v.bind(t,4),d:function(n,r){return i=n,a=0,u=t,p.n=r,c}};function v(r,e){for(a=r,u=e,n=0;!f&&s&&!o&&n<l.length;n++){var o,i=l[n],v=p.p,h=i[2];r>3?(o=h===e)&&(u=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=t):i[0]<=v&&((o=r<2&&v<i[1])?(a=0,p.v=e,p.n=i[1]):v<h&&(o=r<3||i[0]>e||e>h)&&(i[4]=r,i[5]=e,p.n=h,a=0))}if(o||r>1)return c;throw f=!0,e}return function(o,l,h){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&v(l,h),a=l,u=h;(n=a<2?t:u)||!f;){i||(a?a<3?(a>1&&(p.n=-1),v(a,u)):p.n=u:p.v=u);try{if(s=2,i){if(a||(o="next"),n=i[o]){if(!(n=n.call(i,u)))throw TypeError("iterator result is not an object");if(!n.done)return n;u=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((n=(f=p.n<0)?u:r.call(e,p))!==c)break}catch(n){i=t,a=1,u=n}finally{s=1}}return{value:n,done:f}}}(r,i,a),!0),l}var c={};function s(){}function l(){}function f(){}n=Object.getPrototypeOf;var p=[][i]?n(n([][i]())):(o(n={},i,function(){return this}),n),v=f.prototype=s.prototype=Object.create(p);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,o(t,a,"GeneratorFunction")),t.prototype=Object.create(v),t}return l.prototype=f,o(v,"constructor",f),o(f,"constructor",l),l.displayName="GeneratorFunction",o(f,a,"GeneratorFunction"),o(v),o(v,a,"Generator"),o(v,i,function(){return this}),o(v,"toString",function(){return"[object Generator]"}),(e=function(){return{w:u,m:h}})()}function o(t,n,r,e){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}o=function(t,n,r,e){function a(n,r){o(t,n,function(t){return this._invoke(n,r,t)})}n?i?i(t,n,{value:r,enumerable:!e,configurable:!e,writable:!e}):t[n]=r:(a("next",0),a("throw",1),a("return",2))},o(t,n,r,e)}function i(t,n,r,e,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?n(c):Promise.resolve(c).then(e,o)}function a(t){return function(){var n=this,r=arguments;return new Promise(function(e,o){var a=t.apply(n,r);function u(t){i(a,e,o,u,c,"next",t)}function c(t){i(a,e,o,u,c,"throw",t)}u(void 0)})}}function u(t,n){return c.apply(this,arguments)}function c(){return(c=a(e().m(function t(n,r){var o,i,a,u;return e().w(function(t){for(;;)switch(t.p=t.n){case 0:return o="https://www.googleapis.com/books/v1/volumes?q="+n+r,t.p=1,t.n=2,fetch(o);case 2:if((i=t.v).ok){t.n=3;break}throw new Error("HTTP error! status: ".concat(i.status));case 3:return t.n=4,i.json();case 4:return a=t.v,t.a(2,a);case 5:return t.p=5,u=t.v,console.error("Fetch operation failed ",u),t.a(2,null)}},t,null,[[1,5]])}))).apply(this,arguments)}function s(t,n){if(!t||"string"!=typeof t)return"No description of the book";var r=t.split(" ");return r.length>n?r.slice(0,n).join(" ")+" ... ":t}function l(t,n,r,e,o){return f.apply(this,arguments)}function f(){return(f=a(e().m(function t(n,r,o,i,a){var c,s,l;return e().w(function(t){for(;;)switch(t.p=t.n){case 0:if(n.preventDefault(),c=o.trim(),r){t.n=1;break}return i("Please select a type!"),t.a(2);case 1:if(c){t.n=2;break}return i("Search cannot be empty!"),t.a(2);case 2:return t.p=2,t.n=3,u(r,c);case 3:(s=t.v)&&s.items?(a(s.items),i(null)):(a(null),i("Cannot find the Book or author in Google books API.")),t.n=5;break;case 4:t.p=4,l=t.v,console.error("There is an error: ",l),a(null),i(l);case 5:return t.a(2)}},t,null,[[2,4]])}))).apply(this,arguments)}r.d(n,{RX:()=>l,Xe:()=>u,vd:()=>s}),r(540)}}]);