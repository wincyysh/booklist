/*! For license information please see 74.index_bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[74],{43:(t,n,e)=>{e.d(n,{C:()=>r});var r={apiKey:"AIzaSyBnIH3sUKL0U5zWCsyd7X56Hkds6tLO76U",authDomain:"fir-5105b.firebaseapp.com",databaseURL:"https://fir-5105b-default-rtdb.firebaseio.com/",projectId:"fir-5105b",storageBucket:"fir-5105b.firebasestorage.app",messagingSenderId:"764065034501",appId:"1:764065034501:web:74174067eab2c5242fc76c",measurementId:"G-WP1SRHE9Z8"}},74:(t,n,e)=>{e.r(n),e.d(n,{default:()=>j});var r=e(223),o=e(290),i=e(635),a=e(540),u=e(43),c=e(848);function s(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof u?r:u,s=Object.create(c.prototype);return l(s,"_invoke",function(e,r,o){var i,u,c,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:v,f:v.bind(t,4),d:function(n,e){return i=n,u=0,c=t,p.n=e,a}};function v(e,r){for(u=e,c=r,n=0;!f&&s&&!o&&n<l.length;n++){var o,i=l[n],v=p.p,d=i[2];e>3?(o=d===r)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=t):i[0]<=v&&((o=e<2&&v<i[1])?(u=0,p.v=r,p.n=i[1]):v<d&&(o=e<3||i[0]>r||r>d)&&(i[4]=e,i[5]=r,p.n=d,u=0))}if(o||e>1)return a;throw f=!0,r}return function(o,l,d){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&v(l,d),u=l,c=d;(n=u<2?t:c)||!f;){i||(u?u<3?(u>1&&(p.n=-1),v(u,c)):p.n=c:p.v=c);try{if(s=2,i){if(u||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,u<2&&(u=0)}else 1===u&&(n=i.return)&&n.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((n=(f=p.n<0)?c:e.call(r,p))!==a)break}catch(n){i=t,u=1,c=n}finally{s=1}}return{value:n,done:f}}}(e,o,i),!0),s}var a={};function u(){}function c(){}function f(){}n=Object.getPrototypeOf;var p=[][r]?n(n([][r]())):(l(n={},r,function(){return this}),n),v=f.prototype=u.prototype=Object.create(p);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,l(t,o,"GeneratorFunction")),t.prototype=Object.create(v),t}return c.prototype=f,l(v,"constructor",f),l(f,"constructor",c),c.displayName="GeneratorFunction",l(f,o,"GeneratorFunction"),l(v),l(v,o,"Generator"),l(v,r,function(){return this}),l(v,"toString",function(){return"[object Generator]"}),(s=function(){return{w:i,m:d}})()}function l(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}l=function(t,n,e,r){function i(n,e){l(t,n,function(t){return this._invoke(n,e,t)})}n?o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e:(i("next",0),i("throw",1),i("return",2))},l(t,n,e,r)}function f(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=Array(n);e<n;e++)r[e]=t[e];return r}function p(t,n,e,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void e(t)}u.done?n(c):Promise.resolve(c).then(r,o)}function v(t){return function(){var n=this,e=arguments;return new Promise(function(r,o){var i=t.apply(n,e);function a(t){p(i,r,o,a,u,"next",t)}function u(t){p(i,r,o,a,u,"throw",t)}a(void 0)})}}var d=(0,a.lazy)(function(){return e.e(333).then(e.bind(e,333))}),b=(0,r.Wp)(u.C),h=(0,o.C3)(b);function y(t,n){return m.apply(this,arguments)}function m(){return(m=v(s().m(function t(n,e){var r,o,a;return s().w(function(t){for(;;)switch(t.n){case 0:return n.preventDefault(),t.n=1,(0,i.Xe)("isbn:",e);case 1:if(!((o=t.v)&&(null==o||null===(r=o.items)||void 0===r?void 0:r.length)>0)){t.n=2;break}return console.log("isbn is valid, sucessfully found book"),t.a(2,null==o||null===(a=o.items[0])||void 0===a||null===(a=a.volumeInfo)||void 0===a?void 0:a.title);case 2:return console.log(" This an error",o),t.a(2,null);case 3:return t.a(2)}},t)}))).apply(this,arguments)}function g(){return h?(console.log("Accessed to database"),h):(console.log("Cannot access database!"),null)}function w(t,n){return k.apply(this,arguments)}function k(){return k=v(s().m(function t(n,e){var r,i,a,u,c,l,f;return s().w(function(t){for(;;)switch(t.p=t.n){case 0:return console.log("write new data in book list"),r=g(),t.p=1,i=n.replace(/[-\s]/g,""),t.n=2,(0,o.Jt)((0,o.KR)(r,"booklist/".concat(i)));case 2:if(a=t.v,console.log("create snapshot success"),!a.exists()){t.n=4;break}return console.log("snapshot.exists()"),u=a.val(),c=u.vote||0,l=c+1,t.n=3,(0,o.yo)((0,o.KR)(r,"booklist/".concat(i)),{vote:l});case 3:console.log("You add a vote to existing book!"),t.n=5;break;case 4:return console.log("else statement"),console.log("It is a new book not in the list!"),t.n=5,(0,o.hZ)((0,o.KR)(r,"booklist/".concat(i)),{bookname:e,vote:1}).then(function(){return console.log("Thank you for your recommendation! ",e)}).catch(function(t){return console.log("Failed to add the book, the isbn exist ",t)});case 5:t.n=7;break;case 6:t.p=6,f=t.v,console.error("Invalid ISBN",f);case 7:case 8:return t.a(2)}},t,null,[[1,6]])})),k.apply(this,arguments)}const j=function(){var t,n,e=(t=(0,a.useState)(""),n=2,function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(e=e.call(t)).next,0===n){if(Object(e)!==e)return;c=!1}else for(;!(c=(r=i.call(e)).done)&&(u.push(r.value),u.length!==n);c=!0);}catch(t){s=!0,o=t}finally{try{if(!c&&null!=e.return&&(a=e.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(t,n)||function(t,n){if(t){if("string"==typeof t)return f(t,n);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?f(t,n):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=e[0],o=e[1];return(0,c.jsxs)("div",{id:"add-your-own-recommendation",children:[(0,c.jsx)("div",{id:"add-your-own--recommendation-title",children:(0,c.jsx)("h1",{children:"Add Your Own Recommendation"})}),(0,c.jsxs)("div",{id:"isbn-form",children:[(0,c.jsxs)("form",{onSubmit:function(){var t=v(s().m(function t(n){var e;return s().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,y(n,r);case 1:if(!(e=t.v)){t.n=2;break}return console.log(e),t.n=2,w(r,e);case 2:return t.a(2)}},t)}));return function(n){return t.apply(this,arguments)}}(),children:[(0,c.jsx)("input",{type:"text",id:"isbn-input",placeholder:" please enter book isbn ",value:r,onChange:function(t){return o(t.target.value)}}),(0,c.jsx)("button",{type:"submit",id:"isbn-submit",children:"Submit"})]}),(0,c.jsx)(d,{})]})]})}},635:(t,n,e)=>{function r(){var t,n,e="function"==typeof Symbol?Symbol:{},i=e.iterator||"@@iterator",a=e.toStringTag||"@@toStringTag";function u(e,r,i,a){var u=r&&r.prototype instanceof s?r:s,l=Object.create(u.prototype);return o(l,"_invoke",function(e,r,o){var i,a,u,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:v,f:v.bind(t,4),d:function(n,e){return i=n,a=0,u=t,p.n=e,c}};function v(e,r){for(a=e,u=r,n=0;!f&&s&&!o&&n<l.length;n++){var o,i=l[n],v=p.p,d=i[2];e>3?(o=d===r)&&(u=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=t):i[0]<=v&&((o=e<2&&v<i[1])?(a=0,p.v=r,p.n=i[1]):v<d&&(o=e<3||i[0]>r||r>d)&&(i[4]=e,i[5]=r,p.n=d,a=0))}if(o||e>1)return c;throw f=!0,r}return function(o,l,d){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&v(l,d),a=l,u=d;(n=a<2?t:u)||!f;){i||(a?a<3?(a>1&&(p.n=-1),v(a,u)):p.n=u:p.v=u);try{if(s=2,i){if(a||(o="next"),n=i[o]){if(!(n=n.call(i,u)))throw TypeError("iterator result is not an object");if(!n.done)return n;u=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((n=(f=p.n<0)?u:e.call(r,p))!==c)break}catch(n){i=t,a=1,u=n}finally{s=1}}return{value:n,done:f}}}(e,i,a),!0),l}var c={};function s(){}function l(){}function f(){}n=Object.getPrototypeOf;var p=[][i]?n(n([][i]())):(o(n={},i,function(){return this}),n),v=f.prototype=s.prototype=Object.create(p);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,o(t,a,"GeneratorFunction")),t.prototype=Object.create(v),t}return l.prototype=f,o(v,"constructor",f),o(f,"constructor",l),l.displayName="GeneratorFunction",o(f,a,"GeneratorFunction"),o(v),o(v,a,"Generator"),o(v,i,function(){return this}),o(v,"toString",function(){return"[object Generator]"}),(r=function(){return{w:u,m:d}})()}function o(t,n,e,r){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}o=function(t,n,e,r){function a(n,e){o(t,n,function(t){return this._invoke(n,e,t)})}n?i?i(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e:(a("next",0),a("throw",1),a("return",2))},o(t,n,e,r)}function i(t,n,e,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void e(t)}u.done?n(c):Promise.resolve(c).then(r,o)}function a(t){return function(){var n=this,e=arguments;return new Promise(function(r,o){var a=t.apply(n,e);function u(t){i(a,r,o,u,c,"next",t)}function c(t){i(a,r,o,u,c,"throw",t)}u(void 0)})}}function u(t,n){return c.apply(this,arguments)}function c(){return(c=a(r().m(function t(n,e){var o,i,a,u;return r().w(function(t){for(;;)switch(t.p=t.n){case 0:return o="https://www.googleapis.com/books/v1/volumes?q="+n+e,t.p=1,t.n=2,fetch(o);case 2:if((i=t.v).ok){t.n=3;break}throw new Error("HTTP error! status: ".concat(i.status));case 3:return t.n=4,i.json();case 4:return a=t.v,t.a(2,a);case 5:return t.p=5,u=t.v,console.error("Fetch operation failed ",u),t.a(2,null)}},t,null,[[1,5]])}))).apply(this,arguments)}function s(t,n){if(!t||"string"!=typeof t)return"No description of the book";var e=t.split(" ");return e.length>n?e.slice(0,n).join(" ")+" ... ":t}function l(t,n,e,r,o){return f.apply(this,arguments)}function f(){return(f=a(r().m(function t(n,e,o,i,a){var c,s,l;return r().w(function(t){for(;;)switch(t.p=t.n){case 0:if(n.preventDefault(),c=o.trim(),e){t.n=1;break}return i("Please select a type!"),t.a(2);case 1:if(c){t.n=2;break}return i("Search cannot be empty!"),t.a(2);case 2:return t.p=2,t.n=3,u(e,c);case 3:(s=t.v)&&s.items?(a(s.items),i(null)):(a(null),i("Cannot find the Book or author in Google books API.")),t.n=5;break;case 4:t.p=4,l=t.v,console.error("There is an error: ",l),a(null),i(l);case 5:return t.a(2)}},t,null,[[2,4]])}))).apply(this,arguments)}e.d(n,{RX:()=>l,Xe:()=>u,vd:()=>s}),e(540)}}]);