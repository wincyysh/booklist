/*! For license information please see 578.index_bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkbooklist=self.webpackChunkbooklist||[]).push([[578],{578:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var r=n(540),o=n(635),i=n(848);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const c=function(){var e=a((0,r.useState)(""),2),t=e[0],n=e[1],u=a((0,r.useState)(""),2),c=u[0],l=u[1],s=a((0,r.useState)(null),2),f=s[0],h=s[1],p=a((0,r.useState)(null),2),d=p[0],v=p[1];return(0,i.jsxs)("div",{id:"search-container",children:[(0,i.jsx)("div",{id:"search-tips",children:(0,i.jsx)("h2",{children:" Advanced Search "})}),(0,i.jsx)("div",{id:"search-bar",children:(0,i.jsxs)("form",{onSubmit:function(e){return(0,o.RX)(e,t,c,h,v)},children:[(0,i.jsxs)("select",{id:"search-type",value:t,onChange:function(e){return n(e.target.value)},children:[(0,i.jsx)("option",{value:"",children:"--Please choose an option--"}),(0,i.jsx)("option",{value:"intitle:",children:"title"}),(0,i.jsx)("option",{value:"inauthor:",children:"author"}),(0,i.jsx)("option",{value:"isbn:",children:"isbn"}),(0,i.jsx)("option",{value:"subject:",children:"subject"}),(0,i.jsx)("option",{value:"inpublisher:",children:"publisher"})]}),(0,i.jsx)("input",{type:"search",id:"searchInput",placeholder:"Books, Authors, ISBN ...",value:c,onChange:function(e){return l(e.target.value)}}),(0,i.jsx)("button",{type:"submit",children:"Search"})]})}),(0,i.jsx)("div",{className:"errors",children:f&&(0,i.jsx)("p",{children:f})}),d&&d.length>0&&(0,i.jsx)("div",{className:"book-list",children:d.map(function(e){var t;return(0,i.jsxs)("div",{className:"book",children:[(0,i.jsxs)("div",{className:"book-column",children:[(0,i.jsx)("div",{className:"book-title",children:(0,i.jsx)("h2",{children:e.volumeInfo.title})}),(0,i.jsx)("div",{className:"book-authors",children:(0,i.jsx)("h6",{children:e.volumeInfo.authors?e.volumeInfo.authors:"No authors"})}),(0,i.jsx)("div",{className:"book-description",children:(0,i.jsx)("p",{children:(0,o.vd)(e.volumeInfo.description,40)})})]}),(0,i.jsx)("div",{className:"book-img",children:null!==(t=e.volumeInfo.imageLinks)&&void 0!==t&&t.thumbnail?(0,i.jsx)("img",{src:e.volumeInfo.imageLinks.thumbnail}):(0,i.jsx)("img",{className:"book-cover-placeholder-thumbnail",src:"/book.svg"})})]},e.id)})})]})}},635:(e,t,n)=>{function r(){var e,t,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function u(n,r,i,a){var u=r&&r.prototype instanceof l?r:l,s=Object.create(u.prototype);return o(s,"_invoke",function(n,r,o){var i,a,u,l=0,s=o||[],f=!1,h={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,a=0,u=e,h.n=n,c}};function p(n,r){for(a=n,u=r,t=0;!f&&l&&!o&&t<s.length;t++){var o,i=s[t],p=h.p,d=i[2];n>3?(o=d===r)&&(u=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(a=0,h.v=r,h.n=i[1]):p<d&&(o=n<3||i[0]>r||r>d)&&(i[4]=n,i[5]=r,h.n=d,a=0))}if(o||n>1)return c;throw f=!0,r}return function(o,s,d){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&p(s,d),a=s,u=d;(t=a<2?e:u)||!f;){i||(a?a<3?(a>1&&(h.n=-1),p(a,u)):h.n=u:h.v=u);try{if(l=2,i){if(a||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,a<2&&(a=0)}else 1===a&&(t=i.return)&&t.call(i),a<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=e}else if((t=(f=h.n<0)?u:n.call(r,h))!==c)break}catch(t){i=e,a=1,u=t}finally{l=1}}return{value:t,done:f}}}(n,i,a),!0),s}var c={};function l(){}function s(){}function f(){}t=Object.getPrototypeOf;var h=[][i]?t(t([][i]())):(o(t={},i,function(){return this}),t),p=f.prototype=l.prototype=Object.create(h);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,o(e,a,"GeneratorFunction")),e.prototype=Object.create(p),e}return s.prototype=f,o(p,"constructor",f),o(f,"constructor",s),s.displayName="GeneratorFunction",o(f,a,"GeneratorFunction"),o(p),o(p,a,"Generator"),o(p,i,function(){return this}),o(p,"toString",function(){return"[object Generator]"}),(r=function(){return{w:u,m:d}})()}function o(e,t,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}o=function(e,t,n,r){function a(t,n){o(e,t,function(e){return this._invoke(t,n,e)})}t?i?i(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(a("next",0),a("throw",1),a("return",2))},o(e,t,n,r)}function i(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function u(e){i(a,r,o,u,c,"next",e)}function c(e){i(a,r,o,u,c,"throw",e)}u(void 0)})}}function u(e,t){return c.apply(this,arguments)}function c(){return(c=a(r().m(function e(t,n){var o,i,a,u;return r().w(function(e){for(;;)switch(e.p=e.n){case 0:return o="https://www.googleapis.com/books/v1/volumes?q="+t+n,e.p=1,e.n=2,fetch(o);case 2:if((i=e.v).ok){e.n=3;break}throw new Error("HTTP error! status: ".concat(i.status));case 3:return e.n=4,i.json();case 4:return a=e.v,e.a(2,a);case 5:return e.p=5,u=e.v,console.error("Fetch operation failed ",u),e.a(2,null)}},e,null,[[1,5]])}))).apply(this,arguments)}function l(e,t){if(!e||"string"!=typeof e)return"No description of the book";var n=e.split(" ");return n.length>t?n.slice(0,t).join(" ")+" ... ":e}function s(e,t,n,r,o){return f.apply(this,arguments)}function f(){return(f=a(r().m(function e(t,n,o,i,a){var c,l,s;return r().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t.preventDefault(),c=o.trim(),n){e.n=1;break}return i("Please select a type!"),e.a(2);case 1:if(c){e.n=2;break}return i("Search cannot be empty!"),e.a(2);case 2:return e.p=2,e.n=3,u(n,c);case 3:(l=e.v)&&l.items?(a(l.items),i(null)):(a(null),i("Cannot find the Book or author in Google books API.")),e.n=5;break;case 4:e.p=4,s=e.v,console.error("There is an error: ",s),a(null),i(s);case 5:return e.a(2)}},e,null,[[2,4]])}))).apply(this,arguments)}n.d(t,{RX:()=>s,Xe:()=>u,vd:()=>l}),n(540)}}]);